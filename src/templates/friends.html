<!--
   Copyright 2023 Simplii from Group74 NCSU CSC510

   Licensed under the MIT/X11 License (http://opensource.org/licenses/MIT)
-->

{% extends "layout.html" %}
{% block content %}

<style>
    .custom-button {
        background-color: #5bc0de;
        /* Customize the background color */
        color: #fff;
        /* Customize the text color */
        border: 1px solid #46b8da;
        /* Customize the border color */
        padding: 5px 10px;
        /* Adjust padding as needed */
        border-radius: 4px;
        /* Optional: Round the corners */
    }
</style>

<details>
    <summary>Friends</summary>
    {% for friend in myFriends %}
    <div>
        <span>{{friend.receiver}}</span>
    </div>
    <br>
    {% endfor %}
</details>
<br>
<details>
    <summary>Add Friends</summary>
    {% for friend in allUsers %}
    {% if friend.email != active and friend.email not in pendingReceivers and friend.email not in pendingApproves and
    friend.email not in myFriendsList %}
    <details style="margin: 5px; background:white;">
        <summary>{{friend.name}}</summary>
        <p class="article-content" name="friend">{{friend.email}}</p>
        <button type="button" class="btn btn-primary" onclick="sendRequest(event, '{{ friend.email }}')"
            id="{{ friend.email }}">Send Request</button>
    </details>
    {% endif %}
    {% endfor %}
</details>
<br>
<details>
    <summary>Sent Requests ({{ pendingRequests|length }})</summary>
    <div class="card" id="sentRequestsCard">
        
        <span id="sentRequestsCount" class="badge badge-pill badge-info">{{ pendingRequests|length }}</span>
        <br>
    </div>
    {% for req in pendingRequests %}
    <div>
        <span>{{req.receiver}}</span>
        <button onclick="return cancelRequest(event,this.id)" id="{{req.receiver}}"
            class="btn btn-danger inline ml-5">Cancel Request</button>
    </div>
    <br>
    {% endfor %}
</details>

<br>
<details>
    <summary>Pending Approvals ({{ pendingApproves|length }})</summary>
    <div class="card" id="pendingApprovalsCard">
        <span id="pendingApprovalsCount" class="badge badge-pill badge-info">{{ pendingApproves|length }}</span>
        <br>
    </div>

    {% for req in pendingApproves %}
    <div>
        <span>{{req}}</span>
        <button onclick="return approveRequest(event,this.id)" id="{{req}}"
            class="btn btn-success inline ml-5">Approve</button>
    </div>
    <br>
    {% endfor %}
</details>
<br>
<details>
    <summary>Share data with Friends (Type friend's email ID comma separated)</summary>

    <div>

        <form method="POST" action="/send_email">
            <textarea id="share" name="share" rows="4" cols="50"></textarea>
            <button type="submit" class="btn btn-success inline ml-5">Nudge Friends </button>
        </form>
    </div>
    <br>

</details>
<br>


{% endblock content %}